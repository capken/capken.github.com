<!DOCTYPE html>
<html>
  <head>
    <title>JSSDK Test</title>
    <script src="http://res.wx.qq.com/open/js/jweixin-1.2.0.js"></script>
    <script src="http://206.189.158.85:8080/wechat.init.js"></script>
  </head>
  <body>
    <h2>JSSDK Test</h2>

    <img id="testImage" src="event.jpg" />

    <script>
      wx.ready(function(){
        console.log("WX_OK");

        wx.onMenuShareAppMessage({
          title: '智能保顾测评',
          desc: '我是智能保顾测评。',
          link: 'http://event.zkjin.com/insurance/insurance-consultant-h5.html', 
          imgUrl: 'http://event.zkjin.com/insurance/event.jpg',
          success: function (res) {
            console.log("已分享");
          },
          cancel: function (res) {
            console.log("已取消");
          },
          fail: function (res) {
            console.log(JSON.stringify(res));
          }
        });

        wx.onMenuShareAppMessage({
          title: '智能保顾测评',
          desc: '我是智能保顾测评。',
          link: 'http://event.zkjin.com/insurance/insurance-consultant-h5.html', 
          imgUrl: 'http://event.zkjin.com/insurance/event.jpg',
          success: function (res) {
            console.log("已分享");
          },
          cancel: function (res) {
            console.log("已取消");
          },
          fail: function (res) {
            console.log(JSON.stringify(res));
          }
        });
      });

      wx.error(function(res){
        console.log("Error:" + res);
      });

      var timer;
      var touchduration = 1000;

      var onlongtouch = function() {
        console.log("long touch");
      };
      
      function touchstart() {
          timer = setTimeout(onlongtouch, touchduration);
      }
      
      function touchend() {
        if (timer) {
            clearTimeout(timer); // clearTimeout, not cleartimeout..
        }
      }
      
      document.addEventListener("DOMContentLoaded", function(event) {
        var image = document.getElementById("testImage");
        image.addEventListener("touchstart", touchstart, false);
        image.addEventListener("touchend", touchend, false);
      });
      

    </script>
  </body>
</html>


